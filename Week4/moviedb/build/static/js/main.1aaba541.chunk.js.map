{"version":3,"sources":["components/Nav.js","components/Search.js","components/Movie.js","components/Error.js","components/Pagination.js","components/Details.js","config.js","App.js","customHooks.js","index.js"],"names":["Nav","Search","props","onSubmit","getMovies","onChange","handleInput","placeholder","Movie","infos","getDetails","className","id","src","poster_path","alt","original_title","onClick","to","Error","msg","Pagination","pages","changePage","pagesArray","i","push","map","page","autoFocus","key","Details","details","window","history","back","backdrop_path","overview","original_language","runtime","release_date","vote_average","API_KEY","App","useState","input","setInput","movies","setMovies","error","setError","e","a","preventDefault","scrollTo","top","behavior","url","target","parseInt","innerText","fetch","res","json","data","console","log","results","length","setTimeout","useGetMovies","setDetails","movieId","previousSibling","useGetDetails","useEffect","then","total_pages","exact","path","value","Object","keys","movie","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1aaba541.chunk.js","sourcesContent":["import React from 'react';\nimport '../styles/Nav.scss';\n\nexport default function Nav(){\n    return (\n        <nav>\n            <h1>Movie Finder</h1>\n        </nav>\n    );\n}","import React from 'react';\nimport '../styles/Search.scss';\n\nexport default function Search(props){\n    return(\n        <form onSubmit={props.getMovies}>\n            <input onChange={props.handleInput} placeholder=\"Find some movies..\" />\n        </form> \n    );\n};  \n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport '../styles/Movie.scss';\n\n\nexport default function Movie({infos, getDetails}){\n    return (\n        <div className=\"movieCard\">\n            <img id={infos.id} src={`https://image.tmdb.org/t/p/w300/${infos.poster_path}`} alt={infos.original_title}/>\n            <Link onClick={getDetails} to={`/details?movie=${infos.original_title}`}>Show details...</Link>\n        </div>\n    );\n};","import React from 'react';\nimport '../styles/Error.scss';\n\nexport default function Error({msg}){\n    if(msg){\n        return (\n            <div className=\"error\">\n                <p>{msg}</p>\n            </div>\n        );  \n    }else{\n        return <></>;\n    }  \n};","import React from 'react';\nimport '../styles/Pagination.scss';\n\nexport default function Pagination({pages, changePage}){\n    if (pages){\n        let pagesArray = [];\n        for (let i = 1; i <= pages; i++){ pagesArray.push(i) }\n\n        return (\n            <div className=\"pagination\">\n                {pagesArray.map((page,i) => (\n                    <button \n                        autoFocus={i == 0} \n                        className=\"pages\" \n                        onClick={changePage} \n                        key={i}\n                    >\n                        {page}\n                    </button>\n                ))}\n            </div>\n        );\n    }else{\n        return <></>;\n    }\n   \n};","import React from 'react';\nimport '../styles/Details.scss';\n\nexport default function Details({details}){\n    return (\n        <div className=\"details\">\n            <button onClick={() => window.history.back()}>\n                <i className=\"fas fa-long-arrow-alt-left\"></i>\n            </button>\n            <div className=\"infosContainer\">\n                <figure>\n                    <img src={`https://image.tmdb.org/t/p/w300/${details.poster_path}`} alt=\"poster\" />\n                    <img src={`https://image.tmdb.org/t/p/w300/${details.backdrop_path}`} alt=\"backdrop\" />\n                </figure>\n                <div className=\"infos\">\n                    <h1>{details.original_title}</h1>\n                    <p>{details.overview}</p>\n                    <br/>\n                    <p>Language: {details.original_language}</p>\n                    <p>Runtime: {details.runtime} mins</p>\n                    <p>Released date: {details.release_date}</p>\n                    <p>Rate: <strong>{details.vote_average}</strong> / 10</p>\n                </div>\n            </div>\n        </div>\n    );\n};","export const API_KEY = \"bd881319bdee32c6c9f9320ec7987f64\";","import React, {useState,useEffect} from 'react';\nimport './styles/App.scss';\nimport Nav from './components/Nav';\nimport Search from './components/Search';\nimport Movie from './components/Movie';\nimport Error from './components/Error';\nimport Pagination from './components/Pagination';\nimport Details from './components/Details';\nimport {useGetMovies, useGetDetails} from './customHooks';\nimport { Route } from \"react-router-dom\";\nimport {API_KEY} from './config.js';\n\n\nfunction App() {\n  const [getMovies, setInput, setMovies, movies, error] = useGetMovies();\n  const [details, getDetails] = useGetDetails();\n\n  useEffect(() => {\n    fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`)\n      .then(res => res.json())\n      .then(data => {\n        data.total_pages = 1;\n        setMovies(data);\n      });\n  },[]);\n\n  \n  return (\n    <div className=\"App\">\n      <Nav />\n\n      <Route exact path=\"/\">\n        <Search getMovies={getMovies} handleInput={e => setInput(e.target.value)} />\n        <div className=\"moviesContainer\">\n          {Object.keys(movies).length ? movies.results.map((movie,i) => <Movie getDetails={getDetails} key={i} infos={movie} />) : <></>}\n        </div>\n        <Error msg={error} />\n        {Object.keys(movies).length ? <Pagination pages={movies.total_pages} changePage={getMovies}/> : <></>}\n      </Route>\n\n      <Route exact path={\"/details\"}>\n        <Details details={details} />\n      </Route>\n    </div>\n  );\n};\n\nexport default App;\n\n","import {useState} from 'react';\nimport {API_KEY} from './config.js';\n\nexport function useGetMovies(){\n  const [input, setInput] = useState(\"\"); \n  const [movies, setMovies] = useState({});\n  const [error, setError] = useState(\"\");\n  \n\n  async function getMovies(e){\n    e.preventDefault();\n    window.scrollTo({top: 0, behavior: 'smooth'});\n\n    if (input){\n      let url = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${input}`;\n      if (e.target.className == \"pages\") {\n        url = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${input}&page=${parseInt(e.target.innerText)}`\n      }\n\n      try{\n        const res = await fetch(url);\n        const data = await res.json();\n        console.log(data);\n        await setMovies(data);\n\n        if (data.results.length == 0){\n          setError(\"No movies by that name..\");\n          setTimeout(() => setError(\"\"), 2500);\n        }; \n\n      }catch(e){\n        console.error(e);\n        if (movies && movies.results.length == 0){\n          setError(\"No movies by that name...\");\n          setTimeout(() => setError(\"\"), 2000);\n        };\n      }\n    }\n  };\n\n  return [getMovies, setInput, setMovies, movies, error];\n}\n\n\nexport function useGetDetails(){\n  const [details, setDetails] = useState({});\n\n  async function getDetails(e){\n    const movieId = e.target.previousSibling.id;\n\n    const res = await fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}`);\n    const data = await res.json();\n    setDetails(data);\n  };\n\n  return [details, getDetails];\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}