{"version":3,"sources":["components/Nav.js","components/Search.js","components/Movie.js","components/Error.js","components/Pagination.js","components/Details.js","config.js","App.js","customHooks.js","index.js"],"names":["Nav","Search","props","onSubmit","getMovies","onChange","handleInput","placeholder","Movie","infos","getDetails","className","id","src","poster_path","alt","original_title","onClick","to","Error","msg","Pagination","pages","changePage","pagesArray","i","push","map","page","key","Details","details","window","history","back","backdrop_path","overview","original_language","runtime","release_date","vote_average","API_KEY","App","useState","input","setInput","movies","setMovies","error","setError","e","a","preventDefault","scrollTo","top","behavior","url","target","parseInt","innerText","firstChild","value","blur","fetch","res","json","data","results","length","setTimeout","document","querySelectorAll","forEach","btn","classList","remove","add","console","useGetMovies","setDetails","movieId","previousSibling","useGetDetails","useEffect","then","total_pages","querySelector","exact","path","Object","keys","movie","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.608aadb8.chunk.js","sourcesContent":["import React from 'react';\nimport '../styles/Nav.scss';\n\nexport default function Nav(){\n    return (\n        <nav>\n            <h1>Movie Finder</h1>\n        </nav>\n    );\n}","import React from 'react';\nimport '../styles/Search.scss';\n\nexport default function Search(props){\n    return(\n        <form onSubmit={props.getMovies}>\n            <input onChange={props.handleInput} placeholder=\"Find some movies..\" />\n        </form> \n    );\n};  \n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport '../styles/Movie.scss';\n\n\nexport default function Movie({infos, getDetails}){\n    return (\n        <div className=\"movieCard\">\n            <img id={infos.id} src={`https://image.tmdb.org/t/p/w300/${infos.poster_path}`} alt={infos.original_title}/>\n            <Link onClick={getDetails} to={`/details?movie=${infos.original_title}`}>Show details...</Link>\n        </div>\n    );\n};","import React from 'react';\nimport '../styles/Error.scss';\n\nexport default function Error({msg}){\n    if(msg){\n        return (\n            <div className=\"error\">\n                <p>{msg}</p>\n            </div>\n        );  \n    }else{\n        return <></>;\n    }  \n};","import React from 'react';\nimport '../styles/Pagination.scss';\n\nexport default function Pagination({pages, changePage}){\n    if (pages){\n        let pagesArray = [];\n        for (let i = 1; i <= pages; i++){ pagesArray.push(i) }\n\n        return (\n            <div className=\"pagination\">\n                {pagesArray.map((page,i) => (\n                    <button className=\"pages\" onClick={changePage} key={i}>\n                        {page}\n                    </button>\n                ))}\n            </div>\n        );\n    }else{\n        return <></>;\n    }\n   \n};","import React from 'react';\nimport '../styles/Details.scss';\n\nexport default function Details({details}){\n    return (\n        <div className=\"details\">\n            <button onClick={() => window.history.back()}>\n                <i className=\"fas fa-long-arrow-alt-left\"></i>\n            </button>\n            <div className=\"infosContainer\">\n                <figure>\n                    <img src={`https://image.tmdb.org/t/p/w300/${details.poster_path}`} alt=\"poster\" />\n                    <img src={`https://image.tmdb.org/t/p/w300/${details.backdrop_path}`} alt=\"backdrop\" />\n                </figure>\n                <div className=\"infos\">\n                    <h1>{details.original_title}</h1>\n                    <p>{details.overview}</p>\n                    <br/>\n                    <p>Language: {details.original_language}</p>\n                    <p>Runtime: {details.runtime} mins</p>\n                    <p>Released date: {details.release_date}</p>\n                    <p>Rate: <strong>{details.vote_average}</strong> / 10</p>\n                </div>\n            </div>\n        </div>\n    );\n};","export const API_KEY = \"bd881319bdee32c6c9f9320ec7987f64\";","import React, {useState,useEffect} from 'react';\nimport './styles/App.scss';\nimport Nav from './components/Nav';\nimport Search from './components/Search';\nimport Movie from './components/Movie';\nimport Error from './components/Error';\nimport Pagination from './components/Pagination';\nimport Details from './components/Details';\nimport {useGetMovies, useGetDetails} from './customHooks';\nimport { Route } from \"react-router-dom\";\nimport {API_KEY} from './config.js';\n\n\nfunction App() {\n  const [getMovies, setInput, setMovies, movies, error] = useGetMovies();\n  const [details, getDetails] = useGetDetails();\n\n  useEffect(() => {\n    fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`)\n      .then(res => res.json())\n      .then(data => {\n        data.total_pages = 1;\n        setMovies(data);\n        document.querySelector(\"button\").classList.add('selected');\n      });\n  },[]);\n\n  \n  return (\n    <div className=\"App\">\n      <Nav />\n\n      <Route exact path=\"/\">\n        <Search getMovies={getMovies} handleInput={e => setInput(e.target.value)} />\n        <div className=\"moviesContainer\">\n          {Object.keys(movies).length ? movies.results.map((movie,i) => <Movie getDetails={getDetails} key={i} infos={movie} />) : <></>}\n        </div>\n        <Error msg={error} />\n        {Object.keys(movies).length ? <Pagination pages={movies.total_pages} changePage={getMovies}/> : <></>}\n      </Route>\n\n      <Route exact path={\"/details\"}>\n        <Details details={details} />\n      </Route>\n    </div>\n  );\n};\n\nexport default App;\n\n","import {useState} from 'react';\nimport {API_KEY} from './config.js';\n\nexport function useGetMovies(){\n  const [input, setInput] = useState(\"\"); \n  const [movies, setMovies] = useState({});\n  const [error, setError] = useState(\"\");\n  \n\n  async function getMovies(e){\n    e.preventDefault();\n    window.scrollTo({top: 0, behavior: 'smooth'});\n\n    //2 reasons to fetch: a)submit input , b)change page \n    if (input){\n      let url = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${input}`;\n      if (e.target.className == \"pages\") {\n        url = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${input}&page=${parseInt(e.target.innerText)}`\n      }else{ \n        e.target.firstChild.value = \"\";\n        e.target.firstChild.blur(); \n      }\n\n      //fetch data from API\n      try{\n        const res = await fetch(url);\n        const data = await res.json();\n        await setMovies(data);\n\n        if (data.results.length == 0){\n          setError(\"No movies by that name..\");\n          setTimeout(() => setError(\"\"), 2500);\n        }; \n\n        //show page's button as active\n        document.querySelectorAll(\"button\").forEach(btn => btn.classList.remove('selected'));\n        document.querySelectorAll(\"button\")[parseInt(data.page) - 1].classList.add('selected');\n\n      }catch(e){\n        console.error(e);\n        if (movies && movies.results.length == 0){\n          setError(\"No movies by that name...\");\n          setTimeout(() => setError(\"\"), 2000);\n        };\n      }\n    }\n  };\n  \n  return [getMovies, setInput, setMovies, movies, error];\n}\n\n\nexport function useGetDetails(){\n  const [details, setDetails] = useState({});\n\n  async function getDetails(e){\n    const movieId = e.target.previousSibling.id;\n\n    const res = await fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}`);\n    const data = await res.json();\n    setDetails(data);\n  };\n\n  return [details, getDetails];\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}