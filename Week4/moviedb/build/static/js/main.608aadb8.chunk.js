(this.webpackJsonpmoviedb=this.webpackJsonpmoviedb||[]).push([[0],{19:function(e,t,a){e.exports=a(37)},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),o=a(6);a(24),a(25);function i(){return r.a.createElement("nav",null,r.a.createElement("h1",null,"Movie Finder"))}a(26);function s(e){return r.a.createElement("form",{onSubmit:e.getMovies},r.a.createElement("input",{onChange:e.handleInput,placeholder:"Find some movies.."}))}var u=a(8);a(27);function m(e){var t=e.infos,a=e.getDetails;return r.a.createElement("div",{className:"movieCard"},r.a.createElement("img",{id:t.id,src:"https://image.tmdb.org/t/p/w300/".concat(t.poster_path),alt:t.original_title}),r.a.createElement(u.b,{onClick:a,to:"/details?movie=".concat(t.original_title)},"Show details..."))}a(33);function p(e){var t=e.msg;return t?r.a.createElement("div",{className:"error"},r.a.createElement("p",null,t)):r.a.createElement(r.a.Fragment,null)}a(34);function g(e){var t=e.pages,a=e.changePage;if(t){for(var n=[],c=1;c<=t;c++)n.push(c);return r.a.createElement("div",{className:"pagination"},n.map((function(e,t){return r.a.createElement("button",{className:"pages",onClick:a,key:t},e)})))}return r.a.createElement(r.a.Fragment,null)}a(35);function f(e){var t=e.details;return r.a.createElement("div",{className:"details"},r.a.createElement("button",{onClick:function(){return window.history.back()}},r.a.createElement("i",{className:"fas fa-long-arrow-alt-left"})),r.a.createElement("div",{className:"infosContainer"},r.a.createElement("figure",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300/".concat(t.poster_path),alt:"poster"}),r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300/".concat(t.backdrop_path),alt:"backdrop"})),r.a.createElement("div",{className:"infos"},r.a.createElement("h1",null,t.original_title),r.a.createElement("p",null,t.overview),r.a.createElement("br",null),r.a.createElement("p",null,"Language: ",t.original_language),r.a.createElement("p",null,"Runtime: ",t.runtime," mins"),r.a.createElement("p",null,"Released date: ",t.release_date),r.a.createElement("p",null,"Rate: ",r.a.createElement("strong",null,t.vote_average)," / 10"))))}var d=a(10),v=a.n(d),h=a(14),b="bd881319bdee32c6c9f9320ec7987f64";var E=a(1);var y=function(){var e=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({}),l=Object(o.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),p=m[0],g=m[1];function f(){return(f=Object(h.a)(v.a.mark((function e(t){var n,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),!a){e.next=25;break}return n="https://api.themoviedb.org/3/search/movie?api_key=".concat(b,"&query=").concat(a),"pages"==t.target.className?n="https://api.themoviedb.org/3/search/movie?api_key=".concat(b,"&query=").concat(a,"&page=").concat(parseInt(t.target.innerText)):(t.target.firstChild.value="",t.target.firstChild.blur()),e.prev=5,e.next=8,fetch(n);case 8:return r=e.sent,e.next=11,r.json();case 11:return c=e.sent,e.next=14,s(c);case 14:0==c.results.length&&(g("No movies by that name.."),setTimeout((function(){return g("")}),2500)),document.querySelectorAll("button").forEach((function(e){return e.classList.remove("selected")})),document.querySelectorAll("button")[parseInt(c.page)-1].classList.add("selected"),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(5),console.error(e.t0),i&&0==i.results.length&&(g("No movies by that name..."),setTimeout((function(){return g("")}),2e3));case 25:case"end":return e.stop()}}),e,null,[[5,20]])})))).apply(this,arguments)}return[function(e){return f.apply(this,arguments)},r,s,i,p]}(),t=Object(o.a)(e,5),a=t[0],c=t[1],l=t[2],u=t[3],d=t[4],y=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],r=t[1];function c(){return(c=Object(h.a)(v.a.mark((function e(t){var a,n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.previousSibling.id,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(a,"?api_key=").concat(b));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,r(c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return[a,function(e){return c.apply(this,arguments)}]}(),k=Object(o.a)(y,2),j=k[0],w=k[1];return Object(n.useEffect)((function(){fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(b)).then((function(e){return e.json()})).then((function(e){e.total_pages=1,l(e),document.querySelector("button").classList.add("selected")}))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(i,null),r.a.createElement(E.a,{exact:!0,path:"/"},r.a.createElement(s,{getMovies:a,handleInput:function(e){return c(e.target.value)}}),r.a.createElement("div",{className:"moviesContainer"},Object.keys(u).length?u.results.map((function(e,t){return r.a.createElement(m,{getDetails:w,key:t,infos:e})})):r.a.createElement(r.a.Fragment,null)),r.a.createElement(p,{msg:d}),Object.keys(u).length?r.a.createElement(g,{pages:u.total_pages,changePage:a}):r.a.createElement(r.a.Fragment,null)),r.a.createElement(E.a,{exact:!0,path:"/details"},r.a.createElement(f,{details:j})))};l.a.render(r.a.createElement(u.a,null,r.a.createElement(y,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.608aadb8.chunk.js.map